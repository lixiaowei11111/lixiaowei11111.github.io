---
title: "Next.js 15 ä¸ React 19 æ–°ç‰¹æ€§æ·±åº¦è§£æ"
excerpt: "æ·±å…¥æ¢è®¨ Next.js 15 å’Œ React 19 å¸¦æ¥çš„é©å‘½æ€§å˜åŒ–ï¼ŒåŒ…æ‹¬æ–°çš„ç¼–è¯‘å™¨ã€å¹¶å‘ç‰¹æ€§å’Œæ€§èƒ½ä¼˜åŒ–ã€‚"
author: "LXW"
publishedAt: "2024-01-15"
updatedAt: "2024-01-16"
tags: ["Next.js", "React", "Frontend", "JavaScript"]
category: "frontend"
featured: true
coverImage: "/images/posts/covers/nextjs-react19.jpg"
---

# Next.js 15 ä¸ React 19 æ–°ç‰¹æ€§æ·±åº¦è§£æ

Next.js 15 å’Œ React 19 çš„å‘å¸ƒä¸ºå‰ç«¯å¼€å‘å¸¦æ¥äº†è®¸å¤šæ¿€åŠ¨äººå¿ƒçš„æ–°ç‰¹æ€§ï¼Œè®©æˆ‘ä»¬æ·±å…¥äº†è§£è¿™äº›å˜åŒ–å¦‚ä½•æ”¹å˜æˆ‘ä»¬çš„å¼€å‘æ–¹å¼ã€‚

## ä¸»è¦æ›´æ–°äº®ç‚¹

### 1. ç¼–è¯‘å™¨ä¼˜åŒ– ğŸš€

Next.js 15 å¼•å…¥äº†å…¨æ–°çš„ Turbopack ç¼–è¯‘å™¨ï¼Œå¸¦æ¥äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼š

- **æ›´å¿«çš„çƒ­é‡è½½** - å¼€å‘ä½“éªŒå¤§å¹…æå‡
- **ä¼˜åŒ–çš„æ„å»ºæ€§èƒ½** - ç”Ÿäº§æ„å»ºé€Ÿåº¦æå‡ 40%
- **æ™ºèƒ½ç¼“å­˜ç­–ç•¥** - å¢é‡ç¼–è¯‘å‡å°‘é‡å¤å·¥ä½œ

```javascript
// æ–°çš„ Turbopack é…ç½®
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    turbopack: true, // å¯ç”¨ Turbopack
  },
}

export default nextConfig
```

### 2. React 19 é©å‘½æ€§ç‰¹æ€§

#### Actions å’Œ Form Actions

React 19 å¼•å…¥äº†å…¨æ–°çš„ Actions æ¦‚å¿µï¼Œç®€åŒ–äº†è¡¨å•å¤„ç†ï¼š

```jsx
import { useActionState } from 'react'

function ContactForm() {
  const [state, submitAction] = useActionState(async (prevState, formData) => {
    const name = formData.get('name')
    const email = formData.get('email')
    
    try {
      // å¤„ç†è¡¨å•æäº¤
      await submitContact({ name, email })
      return { success: true, message: 'æäº¤æˆåŠŸï¼' }
    } catch (error) {
      return { success: false, message: 'æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•' }
    }
  }, { success: false, message: '' })

  return (
    <form action={submitAction}>
      <input name="name" placeholder="å§“å" required />
      <input name="email" type="email" placeholder="é‚®ç®±" required />
      <button type="submit">æäº¤</button>
      {state.message && (
        <p className={state.success ? 'text-green-600' : 'text-red-600'}>
          {state.message}
        </p>
      )}
    </form>
  )
}
```

#### æ–°çš„ Hooks

**useActionState** - ç®¡ç†å¼‚æ­¥æ“ä½œçŠ¶æ€ï¼š

```jsx
const [state, dispatch] = useActionState(actionFunction, initialState)
```

**useOptimistic** - ä¹è§‚æ›´æ–° UIï¼š

```jsx
function TodoList({ todos }) {
  const [optimisticTodos, addOptimistic] = useOptimistic(
    todos,
    (state, newTodo) => [...state, { ...newTodo, pending: true }]
  )

  async function addTodo(formData) {
    const newTodo = { id: Date.now(), text: formData.get('text') }
    addOptimistic(newTodo)
    await saveTodo(newTodo)
  }

  return (
    <div>
      {optimisticTodos.map(todo => (
        <div key={todo.id} className={todo.pending ? 'opacity-50' : ''}>
          {todo.text}
        </div>
      ))}
      <form action={addTodo}>
        <input name="text" placeholder="æ·»åŠ å¾…åŠäº‹é¡¹" />
        <button type="submit">æ·»åŠ </button>
      </form>
    </div>
  )
}
```

### 3. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

#### ä»£ç åˆ†å‰²ä¼˜åŒ–

```javascript
// åŠ¨æ€å¯¼å…¥ç»„ä»¶ï¼Œæ”¯æŒ Turbopack ä¼˜åŒ–
const DynamicComponent = dynamic(() => import('./HeavyComponent'), {
  loading: () => <ComponentSkeleton />,
  ssr: false // å®¢æˆ·ç«¯æ¸²æŸ“é‡ç»„ä»¶
})

// è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
export default function Page() {
  return (
    <Suspense fallback={<PageSkeleton />}>
      <DynamicComponent />
    </Suspense>
  )
}
```

#### å›¾ç‰‡ä¼˜åŒ–å¢å¼º

```jsx
import Image from 'next/image'

// æ–°çš„ plaiceholder æ”¯æŒ
function OptimizedImage({ src, alt }) {
  return (
    <Image
      src={src}
      alt={alt}
      width={800}
      height={600}
      placeholder="blur"
      blurDataURL="data:image/jpeg;base64,..." // è‡ªåŠ¨ç”Ÿæˆ
      priority // å…³é”®å›¾ç‰‡ä¼˜å…ˆåŠ è½½
      sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
    />
  )
}
```

## å®é™…åº”ç”¨æ¡ˆä¾‹

### æ„å»ºç°ä»£åšå®¢ç³»ç»Ÿ

ç»“åˆ Next.js 15 å’Œ React 19ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæ›´é«˜æ•ˆçš„åšå®¢ç³»ç»Ÿï¼š

```jsx
// app/blog/[slug]/page.tsx
import { Suspense } from 'react'
import { notFound } from 'next/navigation'
import { getPostBySlug } from '@/lib/posts'
import { ArticleContent } from '@/components/article-content'
import { CommentSection } from '@/components/comment-section'

export default async function BlogPost({ params }) {
  const post = await getPostBySlug(params.slug)
  
  if (!post) {
    notFound()
  }

  return (
    <article className="max-w-4xl mx-auto px-4 py-8">
      <header className="mb-8">
        <h1 className="text-4xl font-bold mb-4">{post.title}</h1>
        <div className="flex items-center gap-4 text-muted-foreground">
          <time dateTime={post.publishedAt}>
            {new Date(post.publishedAt).toLocaleDateString('zh-CN')}
          </time>
          <span>é˜…è¯»æ—¶é—´: {post.readingTime} åˆ†é’Ÿ</span>
        </div>
      </header>

      <ArticleContent content={post.content} />

      <Suspense fallback={<div>åŠ è½½è¯„è®ºä¸­...</div>}>
        <CommentSection postId={post.id} />
      </Suspense>
    </article>
  )
}
```

### å“åº”å¼è®¾è®¡æœ€ä½³å®è·µ

```jsx
// ç§»åŠ¨ç«¯ä¼˜åŒ–çš„å¯¼èˆªç»„ä»¶
function ResponsiveNavigation() {
  const [isOpen, setIsOpen] = useState(false)

  return (
    <nav className="sticky top-0 z-50 bg-background/80 backdrop-blur-sm border-b">
      <div className="container mx-auto px-4">
        <div className="flex items-center justify-between h-16">
          <Link href="/" className="font-bold text-xl">
            Blog
          </Link>

          {/* æ¡Œé¢ç«¯å¯¼èˆª */}
          <div className="hidden md:flex items-center space-x-8">
            <Link href="/blog" className="hover:text-primary transition-colors">
              åšå®¢
            </Link>
            <Link href="/categories" className="hover:text-primary transition-colors">
              åˆ†ç±»
            </Link>
            <Link href="/tags" className="hover:text-primary transition-colors">
              æ ‡ç­¾
            </Link>
            <Link href="/about" className="hover:text-primary transition-colors">
              å…³äº
            </Link>
          </div>

          {/* ç§»åŠ¨ç«¯èœå•æŒ‰é’® */}
          <button
            className="md:hidden"
            onClick={() => setIsOpen(!isOpen)}
            aria-label="åˆ‡æ¢èœå•"
          >
            <Menu className="h-6 w-6" />
          </button>
        </div>

        {/* ç§»åŠ¨ç«¯å¯¼èˆªèœå• */}
        {isOpen && (
          <div className="md:hidden py-4 border-t">
            <div className="flex flex-col space-y-4">
              <Link href="/blog" className="hover:text-primary transition-colors">
                åšå®¢
              </Link>
              <Link href="/categories" className="hover:text-primary transition-colors">
                åˆ†ç±»
              </Link>
              <Link href="/tags" className="hover:text-primary transition-colors">
                æ ‡ç­¾
              </Link>
              <Link href="/about" className="hover:text-primary transition-colors">
                å…³äº
              </Link>
            </div>
          </div>
        )}
      </div>
    </nav>
  )
}
```

## æ€»ç»“

Next.js 15 å’Œ React 19 çš„ç»“åˆä¸ºæˆ‘ä»¬å¸¦æ¥äº†ï¼š

1. **æ›´å¥½çš„å¼€å‘ä½“éªŒ** - Turbopack ç¼–è¯‘å™¨å’Œçƒ­é‡è½½ä¼˜åŒ–
2. **ç®€åŒ–çš„çŠ¶æ€ç®¡ç†** - Actions å’Œæ–°çš„ Hooks
3. **æ›´å¼ºçš„æ€§èƒ½** - ä»£ç åˆ†å‰²å’Œç¼“å­˜ä¼˜åŒ–
4. **æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ** - ä¹è§‚æ›´æ–°å’Œå¹¶å‘ç‰¹æ€§

è¿™äº›æ–°ç‰¹æ€§ä¸ä»…æå‡äº†å¼€å‘æ•ˆç‡ï¼Œä¹Ÿä¸ºç”¨æˆ·æä¾›äº†æ›´æµç•…çš„ä½“éªŒã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®é€æ­¥é‡‡ç”¨è¿™äº›æ–°ç‰¹æ€§ï¼Œå……åˆ†åˆ©ç”¨å®ƒä»¬çš„ä¼˜åŠ¿ã€‚

---

*ä½ è§‰å¾—è¿™äº›æ–°ç‰¹æ€§ä¸­å“ªä¸ªæœ€è®©ä½ æœŸå¾…ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„æƒ³æ³•ï¼*